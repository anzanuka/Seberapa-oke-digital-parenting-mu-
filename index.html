<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sudah Bijak Belum Mengatur Gadget Anak?</title>
  <style>
    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      margin: 0;
      padding: 0;
      background: radial-gradient(circle at top, #e3f2ff 0, #f6f7ff 40%, #fdfdfd 100%);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .game-container {
      background: #ffffff;
      max-width: 570px;
      width: 100%;
      padding: 20px 22px 24px;
      border-radius: 22px;
      box-shadow: 0 10px 28px rgba(22, 34, 86, 0.12);
      position: relative;
      overflow: hidden;
    }

    /* Background decorative shapes */
    .bubble {
      position: absolute;
      border-radius: 50%;
      opacity: 0.18;
      pointer-events: none;
    }

    .bubble.b1 {
      width: 120px;
      height: 120px;
      background: #8ea3ff;
      top: -40px;
      right: -20px;
    }

    .bubble.b2 {
      width: 90px;
      height: 90px;
      background: #36c1a6;
      bottom: -30px;
      left: -15px;
    }

    .bubble.b3 {
      width: 60px;
      height: 60px;
      background: #ffd88a;
      top: 40%;
      right: -10px;
    }

    .content {
      position: relative;
      z-index: 1;
    }

    .hero {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 10px;
    }

    .hero-icon-wrapper {
      position: relative;
      width: 60px;
      height: 60px;
    }

    .hero-icon-main {
      width: 60px;
      height: 60px;
      border-radius: 18px;
      background: linear-gradient(135deg, #4f7cff, #8e9dff);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.9rem;
      color: #fff;
      box-shadow: 0 8px 18px rgba(79, 124, 255, 0.5);
    }

    .hero-icon-sub {
      position: absolute;
      bottom: -4px;
      right: -4px;
      width: 28px;
      height: 28px;
      border-radius: 999px;
      background: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.1rem;
      border: 2px solid #dfe5ff;
    }

    .hero-text h1 {
      font-size: 1.25rem;
      margin: 0 0 2px;
      color: #17213d;
    }

    .hero-text p {
      margin: 0;
      font-size: 0.85rem;
      color: #5b6487;
    }

    .subtitle {
      margin: 6px 0 14px;
      font-size: 0.8rem;
      color: #7a82a7;
    }

    #progress {
      font-size: 0.8rem;
      color: #5f6a8a;
      margin-bottom: 4px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 6px;
    }

    .progress-bar {
      flex: 1;
      height: 6px;
      background: #e3e7ff;
      border-radius: 999px;
      overflow: hidden;
      margin-left: 6px;
    }

    .progress-fill {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, #4f7cff, #36c1a6);
      transition: width 0.25s ease;
    }

    #question {
      font-size: 0.98rem;
      font-weight: 600;
      color: #232b4d;
      margin: 10px 0 10px;
      display: flex;
      gap: 8px;
      align-items: flex-start;
    }

    #question-icon {
      font-size: 1.2rem;
      margin-top: 2px;
    }

    #question-text {
      flex: 1;
    }

    #options {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-bottom: 10px;
    }

    .option-btn {
      border: 1px solid #d4dbff;
      background: #f7f8ff;
      padding: 9px 11px;
      border-radius: 11px;
      text-align: left;
      font-size: 0.9rem;
      cursor: pointer;
      transition: transform 0.1s ease, box-shadow 0.1s ease, background 0.1s ease;
      display: flex;
      gap: 8px;
      align-items: flex-start;
    }

    .option-badge {
      font-size: 0.8rem;
      margin-top: 2px;
    }

    .option-btn span.option-text {
      flex: 1;
    }

    .option-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    }

    .option-btn.correct {
      background: #e4f9ea;
      border-color: #45b76a;
    }

    .option-btn.wrong {
      background: #ffe8e8;
      border-color: #ff6b6b;
    }

    .option-btn.disabled {
      opacity: 0.85;
      cursor: default;
      pointer-events: none;
    }

    #feedback {
      font-size: 0.83rem;
      min-height: 40px;
      margin-bottom: 8px;
      color: #3b425f;
    }

    #nextBtn {
      width: 100%;
      border: none;
      background: #4255ff;
      color: white;
      padding: 10px 12px;
      font-size: 0.93rem;
      border-radius: 11px;
      cursor: pointer;
      font-weight: 600;
      transition: background 0.1s ease, transform 0.1s ease, box-shadow 0.1s ease;
      margin-bottom: 6px;
    }

    #nextBtn:disabled {
      background: #c1c7ff;
      cursor: default;
      box-shadow: none;
      transform: none;
    }

    #nextBtn:not(:disabled):hover {
      background: #3343d9;
      transform: translateY(-1px);
      box-shadow: 0 6px 16px rgba(66, 85, 255, 0.35);
    }

    #result {
      margin-top: 4px;
      font-size: 0.9rem;
      color: #232b4d;
      text-align: center;
    }

    .level-meter {
      margin-top: 10px;
      display: flex;
      justify-content: space-between;
      gap: 6px;
      font-size: 0.72rem;
      color: #6b7395;
    }

    .level-step {
      flex: 1;
      background: #f3f4ff;
      border-radius: 999px;
      padding: 4px 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 4px;
      opacity: 0.6;
    }

    .level-step span.icon {
      font-size: 1rem;
    }

    .level-step.active {
      background: linear-gradient(135deg, #4f7cff, #9ac0ff);
      color: #fff;
      opacity: 1;
      box-shadow: 0 4px 12px rgba(79, 124, 255, 0.5);
    }

    .result-visual {
      margin-top: 10px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
    }

    .result-card {
      width: 100%;
      border-radius: 16px;
      padding: 12px 10px;
      display: flex;
      gap: 10px;
      align-items: center;
    }

    .result-emoji {
      width: 52px;
      height: 52px;
      border-radius: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      background: rgba(255, 255, 255, 0.7);
    }

    .result-text-title {
      font-size: 1rem;
      font-weight: 700;
      margin-bottom: 2px;
    }

    .result-text-body {
      font-size: 0.86rem;
      line-height: 1.3;
    }

    .level-1 {
      background: linear-gradient(135deg, #ff9a9a, #ff6b6b);
      color: #fff;
    }

    .level-2 {
      background: linear-gradient(135deg, #ffd88a, #ffb347);
      color: #4b2c05;
    }

    .level-3 {
      background: linear-gradient(135deg, #a5e7d7, #4fc3a1);
      color: #053a32;
    }

    .level-4 {
      background: linear-gradient(135deg, #9ac0ff, #4f7cff);
      color: #041738;
    }

    .tips-section-title {
      font-size: 0.86rem;
      font-weight: 600;
      margin-top: 10px;
      margin-bottom: 4px;
      color: #202744;
    }

    .tips-list {
      margin: 0;
      padding-left: 18px;
      font-size: 0.82rem;
      color: #3c4463;
    }

    .tips-list li {
      margin-bottom: 3px;
    }

    .area-section {
      margin-top: 8px;
      font-size: 0.82rem;
      color: #3c4463;
    }

    .area-section-title {
      font-weight: 600;
      margin-bottom: 2px;
    }

    .area-section ul {
      padding-left: 18px;
      margin: 0;
    }

    .tagline {
      font-size: 0.78rem;
      color: #8c94b8;
      text-align: center;
      margin-top: 6px;
    }

    /* Share section */
    .share-container {
      margin-top: 10px;
      padding-top: 8px;
      border-top: 1px dashed #d8ddff;
      display: none;
    }

    .share-label {
      font-size: 0.8rem;
      color: #5b6487;
      margin-bottom: 4px;
    }

    #shareText {
      width: 100%;
      min-height: 90px;
      border-radius: 10px;
      border: 1px solid #d4dbff;
      padding: 8px;
      font-size: 0.8rem;
      resize: vertical;
      background: #f7f8ff;
    }

    #copyBtn {
      margin-top: 6px;
      width: 100%;
      border: none;
      background: #36c1a6;
      color: #fff;
      padding: 8px 10px;
      font-size: 0.85rem;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 600;
      transition: background 0.1s ease, transform 0.1s ease, box-shadow 0.1s ease;
    }

    #copyBtn:hover {
      background: #2aa28a;
      transform: translateY(-1px);
      box-shadow: 0 4px 10px rgba(42, 162, 138, 0.35);
    }

    #copyStatus {
      margin-top: 4px;
      font-size: 0.78rem;
      color: #5b6487;
      text-align: center;
      min-height: 16px;
    }
  </style>
</head>
<body>
  <div class="game-container">
    <!-- Decorative bubbles -->
    <div class="bubble b1"></div>
    <div class="bubble b2"></div>
    <div class="bubble b3"></div>

    <div class="content">
      <div class="hero">
        <div class="hero-icon-wrapper">
          <div class="hero-icon-main">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</div>
          <div class="hero-icon-sub">üì±</div>
        </div>
        <div class="hero-text">
          <h1>Sudah Bijak Belum Mengatur Gadget Anak?</h1>
          <p>Refleksi singkat untuk melihat pola pengasuhan digital di keluarga Anda.</p>
        </div>
      </div>
      <p class="subtitle">
        Pilih jawaban yang paling mendekati kebiasaan sehari-hari. Tidak ada jawaban ‚Äúsempurna‚Äù, semua adalah proses belajar bersama. üíô
      </p>

      <div id="progress">
        <span id="progressText">Pertanyaan 1/10</span>
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill"></div>
        </div>
      </div>

      <div id="question">
        <span id="question-icon">üì±</span>
        <span id="question-text"></span>
      </div>

      <div id="options"></div>
      <div id="feedback"></div>

      <button id="nextBtn" disabled>Pertanyaan berikutnya</button>
      <div id="result"></div>

      <div class="level-meter">
        <div class="level-step" id="step1">
          <span class="icon">üö®</span><span>Perlu banyak perbaikan</span>
        </div>
        <div class="level-step" id="step2">
          <span class="icon">üîç</span><span>Sedang belajar</span>
        </div>
        <div class="level-step" id="step3">
          <span class="icon">üå±</span><span>Cukup bijak</span>
        </div>
        <div class="level-step" id="step4">
          <span class="icon">üåü</span><span>Role model</span>
        </div>
      </div>

      <div id="resultVisual" class="result-visual"></div>

      <!-- Share result section -->
      <div id="shareContainer" class="share-container">
        <div class="share-label">Teks refleksi (bisa disalin ke WA/grup orangtua):</div>
        <textarea id="shareText" readonly></textarea>
        <button id="copyBtn">Salin teks refleksi</button>
        <div id="copyStatus"></div>
      </div>

      <p class="tagline">Gadget hanyalah alat. Kehangatan dan kehadiran Anda tetap menjadi ‚Äúaplikasi‚Äù terpenting bagi anak. üåø</p>
    </div>
  </div>

  <script>
    const questions = [
      {
        icon: "‚è∞",
        text: "Di rumah, apakah sudah ada aturan durasi harian penggunaan gadget untuk anak (misalnya 1‚Äì2 jam per hari)?",
        area: "Waktu & durasi",
        options: [
          {
            text: "Belum ada aturan sama sekali, berjalan saja apa adanya.",
            correct: false,
            feedback: "Tanpa aturan dasar, anak cenderung memakai gadget berlebihan dan sulit dikendalikan."
          },
          {
            text: "Ada aturan, tetapi sering dilanggar baik oleh anak maupun orangtua.",
            correct: false,
            feedback: "Ini langkah awal yang baik, namun perlu konsistensi agar anak merasa aturannya sungguh penting."
          },
          {
            text: "Ada aturan jelas, disepakati bersama dan cukup konsisten dijalankan.",
            correct: true,
            feedback: "Bagus sekali. Aturan yang disepakati bersama dan dijalankan konsisten mengajarkan tanggung jawab pada anak."
          }
        ]
      },
      {
        icon: "üëÄ",
        text: "Saat mendampingi anak, seberapa sering Anda ikut asyik sendiri dengan gawai (scroll media sosial, chat, dll.)?",
        area: "Contoh dari orangtua",
        options: [
          {
            text: "Hampir selalu, sekalian mumpung bisa membalas pesan dan mengecek media sosial.",
            correct: false,
            feedback: "Anak belajar dari contoh. Jika orangtua sering sibuk dengan gawai, anak akan meniru pola yang sama."
          },
          {
            text: "Kadang-kadang masih sambil memegang gawai, tetapi Anda mencoba mengurangi.",
            correct: false,
            feedback: "Ini sudah bentuk usaha yang baik. Perlu sedikit penguatan agar anak merasa mendapat perhatian penuh."
          },
          {
            text: "Saat bersama anak (makan, mengobrol, bermain), gawai biasanya disimpan terlebih dahulu.",
            correct: true,
            feedback: "Luar biasa. Kehadiran penuh orangtua membuat anak merasa penting dan dihargai."
          }
        ]
      },
      {
        icon: "üçΩÔ∏è",
        text: "Bagaimana aturan gawai saat makan bersama keluarga?",
        area: "Zona tanpa gawai",
        options: [
          {
            text: "Semua bebas menggunakan gawai selama makan, yang penting anak menghabiskan makanannya.",
            correct: false,
            feedback: "Makan sambil menatap layar membuat anak kurang peka terhadap rasa kenyang dan mengurangi kualitas obrolan keluarga."
          },
          {
            text: "Kadang dilarang, kadang dibiarkan tergantung suasana hati.",
            correct: false,
            feedback: "Aturan yang berubah-ubah membuat anak bingung. Konsistensi penting agar anak memahami batasan."
          },
          {
            text: "Meja makan adalah zona bebas gawai untuk semua anggota keluarga.",
            correct: true,
            feedback: "Pilihan yang sangat baik. Momen makan bisa menjadi ruang ngobrol dan saling terkoneksi tanpa gangguan layar."
          }
        ]
      },
      {
        icon: "üåô",
        text: "Bagaimana kebiasaan anak menjelang tidur terkait penggunaan gawai?",
        area: "Gawai sebelum tidur",
        options: [
          {
            text: "Sering menggunakan gawai sampai benar-benar mengantuk, baru gawai dimatikan.",
            correct: false,
            feedback: "Layar sebelum tidur membuat otak anak sulit beristirahat dan mengganggu kualitas tidurnya."
          },
          {
            text: "Kadang berhenti menggunakan gawai sebelum tidur, tetapi belum konsisten.",
            correct: false,
            feedback: "Perubahan kecil sudah baik. Akan lebih optimal jika dibuat rutinitas yang tetap setiap malam."
          },
          {
            text: "Ada aturan berhenti gawai minimal 30‚Äì60 menit sebelum tidur dengan rutinitas tenang (membaca buku, mengobrol).",
            correct: true,
            feedback: "Ini kebiasaan yang sangat mendukung pola tidur sehat bagi anak."
          }
        ]
      },
      {
        icon: "üß≠",
        text: "Saat anak online (menonton video, bermain gim, atau menggunakan media sosial), seberapa sering Anda mendampingi atau mengecek kontennya?",
        area: "Pendampingan konten",
        options: [
          {
            text: "Jarang, yang penting anak diam dan tidak rewel.",
            correct: false,
            feedback: "Tanpa pendampingan, anak mudah terpapar konten yang tidak sesuai usia atau berisiko."
          },
          {
            text: "Kadang mengecek jika teringat atau jika ada hal yang mencurigakan.",
            correct: false,
            feedback: "Ini adalah langkah awal yang baik, namun akan lebih aman jika pendampingan dilakukan lebih rutin."
          },
          {
            text: "Rutin mengecek dan sesekali ikut menonton atau bermain bersama anak.",
            correct: true,
            feedback: "Hebat. Pendampingan aktif membuat anak merasa aman dan terbuka saat menemukan hal yang mengganggu."
          }
        ]
      },
      {
        icon: "üîê",
        text: "Apakah Anda menggunakan fitur pengaturan keamanan (parental control, filter konten, batas waktu) di perangkat anak?",
        area: "Fitur keamanan",
        options: [
          {
            text: "Belum, karena terasa rumit atau belum sempat mempelajari.",
            correct: false,
            feedback: "Fitur ini sebenarnya dapat sangat membantu orangtua menjaga anak di dunia digital."
          },
          {
            text: "Sudah mengetahui fitur tersebut, tetapi baru sebagian kecil yang digunakan.",
            correct: false,
            feedback: "Ini adalah langkah yang baik. Secara bertahap, fitur lain dapat ditambahkan sesuai kebutuhan anak."
          },
          {
            text: "Ya, sudah mengaktifkan beberapa fitur sesuai usia dan kebutuhan anak.",
            correct: true,
            feedback: "Bagus sekali. Menggabungkan pengawasan orangtua dengan dukungan teknologi adalah kombinasi yang kuat."
          }
        ]
      },
      {
        icon: "üó£Ô∏è",
        text: "Saat membuat aturan gawai, apakah anak diajak berdiskusi dan menyampaikan pendapatnya?",
        area: "Dialog & kesepakatan",
        options: [
          {
            text: "Tidak, aturan dibuat sepihak demi praktis. Anak tinggal mengikuti.",
            correct: false,
            feedback: "Anak cenderung lebih mudah patuh jika merasa didengar dan dilibatkan."
          },
          {
            text: "Kadang diajak berbicara, tetapi keputusan akhir tetap orangtua tanpa banyak dialog.",
            correct: false,
            feedback: "Ini sudah mengarah pada dialog. Sedikit lebih banyak ruang diskusi akan membuat anak merasa lebih dilibatkan."
          },
          {
            text: "Ya, anak diajak berdiskusi, boleh memberi masukan, kemudian disepakati bersama.",
            correct: true,
            feedback: "Sangat baik. Ini memberi pesan bahwa aturan dibuat untuk kebaikan bersama, bukan sekadar larangan."
          }
        ]
      },
      {
        icon: "üí¢",
        text: "Jika anak marah atau tantrum saat diminta berhenti menggunakan gawai, apa yang biasanya Anda lakukan?",
        area: "Disiplin positif & emosi",
        options: [
          {
            text: "Ikut marah, membentak, atau langsung mengambil paksa gawai.",
            correct: false,
            feedback: "Cara ini dapat membuat anak merasa tidak didengar dan memperburuk konflik."
          },
          {
            text: "Membiarkan dulu sampai tenang, baru diajak bicara setelahnya.",
            correct: false,
            feedback: "Lebih tenang memang, tetapi akan lebih efektif jika diikuti dengan penjelasan dan latihan mengelola emosi."
          },
          {
            text: "Mengakui perasaan anak (marah/sedih), menjelaskan alasannya, dan tetap konsisten dengan kesepakatan.",
            correct: true,
            feedback: "Ini contoh disiplin positif yang membantu anak belajar mengelola emosi dan memahami batasan."
          }
        ]
      },
      {
        icon: "üé®",
        text: "Seberapa sering Anda menawarkan kegiatan alternatif selain gawai (bermain, olahraga, mengobrol, membuat karya)?",
        area: "Alternatif kegiatan",
        options: [
          {
            text: "Jarang, karena semua orang di rumah juga sibuk dengan gawai masing-masing.",
            correct: false,
            feedback: "Tanpa alternatif, wajar jika anak menjadikan gawai sebagai satu-satunya sumber hiburan."
          },
          {
            text: "Kadang menawarkan, tetapi jika anak menolak biasanya dibiarkan kembali ke gawai.",
            correct: false,
            feedback: "Ini adalah langkah awal. Jika alternatif dibuat lebih menarik dan rutin, anak lebih mudah tertarik."
          },
          {
            text: "Cukup sering menawarkan dan ikut terlibat (misalnya bermain bersama, membaca buku, memasak bersama).",
            correct: true,
            feedback: "Sangat baik. Pengalaman bersama orangtua adalah 'konten terbaik' untuk tumbuh kembang anak."
          }
        ]
      },
      {
        icon: "üß†",
        text: "Apakah Anda rutin mengajak anak mengobrol tentang apa yang mereka tonton atau mainkan di gawai (hal yang disukai, yang membuat takut, bingung, dll.)?",
        area: "Obrolan tentang dunia digital",
        options: [
          {
            text: "Hampir tidak pernah, yang penting anak tidak mengganggu.",
            correct: false,
            feedback: "Tanpa ruang obrolan, anak mungkin menyimpan kebingungan atau ketakutan sendirian."
          },
          {
            text: "Sesekali menanyakan, biasanya jika ada berita viral atau kejadian tertentu.",
            correct: false,
            feedback: "Ini sudah baik. Akan lebih kuat jika menjadi obrolan rutin sehingga anak terbiasa bercerita.",
          },
          {
            text: "Sering mengajak mengobrol santai tentang pengalaman digital anak dengan bahasa yang tidak menghakimi.",
            correct: true,
            feedback: "Hebat. Ini membantu anak merasa aman bercerita jika suatu hari mengalami hal yang tidak menyenangkan di dunia digital."
          }
        ]
      }
    ];

    // Tips per level (minimal 10 kalimat per kategori)
    const levelTips = {
      1: [
        "Mulailah dengan satu aturan kecil yang mudah dilakukan, misalnya menulis durasi maksimal gawai per hari dan menempelkannya di kulkas.",
        "Ajak seluruh anggota keluarga, termasuk orang dewasa, untuk ikut mematuhi aturan yang sama agar anak merasa adil.",
        "Pilih satu momen tetap setiap hari sebagai zona bebas gawai, misalnya saat makan malam atau 30 menit sebelum tidur.",
        "Luangkan waktu 5‚Äì10 menit setiap hari hanya untuk mendengarkan cerita anak tanpa gawai di tangan Anda.",
        "Pelajari satu fitur keamanan sederhana terlebih dahulu, misalnya pengaturan batas waktu di ponsel atau tablet.",
        "Jangan menyalahkan diri sendiri; lihat hasil kuis ini sebagai titik mulai, bukan vonis akhir.",
        "Jika anak marah ketika aturan baru diterapkan, validasi perasaannya dengan kalimat seperti, ‚ÄúIbu/Bapak tahu kamu kecewa, tapi kita sedang belajar bersama.‚Äù",
        "Cari satu aktivitas pengganti yang menyenangkan, seperti board game, menggambar, atau memasak sederhana bersama anak.",
        "Catat perubahan kecil yang berhasil Anda jalankan dalam seminggu, lalu rayakan keberhasilan tersebut bersama anak.",
        "Jika terasa sulit, Anda boleh meminta dukungan pasangan, keluarga, atau komunitas orangtua lain sehingga tidak merasa sendirian."
      ],
      2: [
        "Berikan apresiasi pada diri sendiri karena sudah mulai membangun aturan dan kebiasaan baik di rumah.",
        "Identifikasi dua kebiasaan yang paling sering membuat aturan gawai bocor dan fokus memperbaikinya terlebih dahulu.",
        "Libatkan anak dalam mengevaluasi aturan yang sudah ada dengan pertanyaan, ‚ÄúApa yang sudah oke dan apa yang perlu kita ubah?‚Äù",
        "Coba jadwalkan waktu tanpa gawai untuk seluruh keluarga di akhir pekan, misalnya satu jam bermain di luar rumah.",
        "Perkuat konsistensi dengan membuat pengingat visual, seperti poster aturan gawai yang dibuat bersama anak.",
        "Jelaskan alasan di balik aturan dengan bahasa yang sederhana, misalnya, ‚ÄúKalau terlalu lama menatap layar, mata bisa cepat lelah.‚Äù",
        "Latih diri Anda untuk meletakkan gawai ketika anak sedang bercerita, sehingga ia merasa lebih dihargai.",
        "Mulailah menambahkan satu fitur keamanan baru setiap beberapa minggu, sambil menjelaskan tujuannya kepada anak.",
        "Jika terjadi konflik, gunakan momen tersebut sebagai kesempatan belajar, bukan sekadar memarahi atau menyerah.",
        "Teruslah merayakan setiap kemajuan kecil, karena perubahan pola pengasuhan digital adalah proses jangka panjang."
      ],
      3: [
        "Akui bahwa Anda sudah melakukan banyak hal baik dalam pengasuhan digital dan itu patut diapresiasi.",
        "Gunakan hasil refleksi ini untuk memperhalus area tertentu, misalnya konsistensi jam tidur atau keterlibatan saat anak online.",
        "Pertahankan kebiasaan mengajak anak berdiskusi sebelum membuat aturan baru, sehingga anak merasa menjadi bagian dari solusi.",
        "Perluas variasi aktivitas tanpa gawai agar anak memiliki lebih banyak pilihan yang sama menyenangkannya.",
        "Tingkatkan kualitas kehadiran Anda dengan sesekali menginisiasi obrolan tentang perasaan anak saat ia berada di dunia digital.",
        "Evaluasi secara berkala pengaturan keamanan di perangkat, karena kebutuhan anak akan berubah seiring bertambahnya usia.",
        "Gunakan konflik kecil tentang gawai sebagai latihan bersama untuk mengelola emosi, bukan sekadar situasi yang ingin dihindari.",
        "Berbagi pengalaman Anda dengan orangtua lain dapat menguatkan praktik baik yang sudah berjalan di rumah.",
        "Tetaplah terbuka pada masukan anak, karena mereka sering punya sudut pandang baru terkait teknologi yang bisa membantu orangtua.",
        "Jadikan rumah sebagai tempat di mana teknologi dipakai dengan sadar, bukan sekadar kebiasaan otomatis tanpa pertimbangan."
      ],
      4: [
        "Apresiasi diri Anda sebagai sosok yang sudah berusaha menjadi teladan dalam pengasuhan digital yang bijak.",
        "Gunakan posisi ini untuk terus belajar, karena dunia digital sangat cepat berubah dan membutuhkan penyesuaian berkelanjutan.",
        "Libatkan anak dalam menyusun ulang aturan gawai secara berkala, sehingga ia merasa dipercaya dan bertanggung jawab.",
        "Bagikan cerita keberhasilan dan tantangan Anda kepada orangtua lain, sehingga praktik baik ini bisa menginspirasi lingkungan sekitar.",
        "Tetap awasi sinyal kelelahan digital pada anak, seperti mudah marah, susah tidur, atau sulit lepas dari gawai.",
        "Pertahankan kebiasaan berdialog dengan nada tenang ketika terjadi pelanggaran aturan, sehingga anak belajar menghadapi masalah tanpa takut.",
        "Lengkapi pengawasan orangtua dengan fitur keamanan yang mutakhir dan disesuaikan dengan usia anak.",
        "Pastikan ada ruang bagi anak untuk mengembangkan hobi di luar layar, seperti olahraga, seni, dan kegiatan sosial.",
        "Jangan lupa menyisihkan waktu istirahat digital untuk diri sendiri, agar Anda dapat terus hadir secara utuh bagi anak.",
        "Tetap fleksibel ketika situasi berubah, misalnya saat ada tugas sekolah online yang meningkat, namun tetap berpegang pada prinsip utama keseimbangan."
      ]
    };

    // Tips khusus berdasarkan area yang lemah (per pertanyaan)
    const areaTips = {
      "Waktu & durasi": [
        "Mulailah dengan membuat jadwal harian penggunaan gawai yang realistis dan disepakati bersama anak.",
        "Gunakan timer atau alarm sebagai pengingat agar waktu gawai tidak terasa ‚Äòtiba-tiba habis‚Äô bagi anak."
      ],
      "Contoh dari orangtua": [
        "Cobalah menetapkan momen tertentu di mana Anda juga meletakkan gawai, sehingga anak melihat contoh langsung.",
        "Jika terpaksa menggunakan gawai di depan anak, jelaskan apa yang sedang Anda lakukan, misalnya untuk pekerjaan."
      ],
      "Zona tanpa gawai": [
        "Pilih satu ruangan atau momen keluarga sebagai zona bebas gawai, dan berikan tanda visual seperti stiker atau papan kecil.",
        "Gunakan momen makan tanpa gawai sebagai ajang berbagi cerita dan bersyukur bersama."
      ],
      "Gawai sebelum tidur": [
        "Bantu anak membuat rutinitas santai sebelum tidur tanpa gawai, seperti membaca buku atau bercerita.",
        "Simpan gawai di luar kamar tidur agar tidak menggoda anak untuk kembali menggunakannya."
      ],
      "Pendampingan konten": [
        "Sediakan waktu khusus untuk duduk di samping anak ketika ia menonton atau bermain gim.",
        "Tanyakan secara berkala apa video atau gim yang sedang disukai anak dan bagaimana perasaannya saat menggunakannya."
      ],
      "Fitur keamanan": [
        "Luangkan beberapa menit untuk mempelajari fitur kontrol orangtua di perangkat yang paling sering digunakan anak.",
        "Mulailah dengan satu fitur keamanan dulu, seperti filter konten atau pembatasan unduhan aplikasi."
      ],
      "Dialog & kesepakatan": [
        "Saat membuat aturan, tanyakan pada anak aturan seperti apa yang menurutnya adil dan masuk akal.",
        "Tuliskan hasil kesepakatan di kertas atau poster yang bisa dihias bersama, sehingga terasa sebagai proyek keluarga."
      ],
      "Disiplin positif & emosi": [
        "Ketika anak marah karena gawai dibatasi, akui perasaannya sebelum membahas aturan yang disepakati.",
        "Latih diri untuk tidak langsung bereaksi keras; tarik napas sejenak dan gunakan kalimat yang menenangkan."
      ],
      "Alternatif kegiatan": [
        "Susun daftar kegiatan menyenangkan tanpa gawai yang bisa dipilih anak ketika waktu gawai selesai.",
        "Libatkan diri Anda secara aktif dalam kegiatan alternatif tersebut agar anak merasa ditemani."
      ],
      "Obrolan tentang dunia digital": [
        "Jadwalkan obrolan santai mingguan tentang pengalaman anak di dunia digital, tanpa menginterogasi.",
        "Tanyakan apa yang paling ia sukai dan apa yang paling membuatnya tidak nyaman saat berada di internet."
      ]
    };

    let currentQuestionIndex = 0;
    let score = 0;
    let weakAreas = [];

    const progressTextEl = document.getElementById("progressText");
    const progressFillEl = document.getElementById("progressFill");
    const questionTextEl = document.getElementById("question-text");
    const questionIconEl = document.getElementById("question-icon");
    const optionsEl = document.getElementById("options");
    const feedbackEl = document.getElementById("feedback");
    const nextBtn = document.getElementById("nextBtn");
    const resultEl = document.getElementById("result");
    const resultVisualEl = document.getElementById("resultVisual");

    const shareContainerEl = document.getElementById("shareContainer");
    const shareTextEl = document.getElementById("shareText");
    const copyBtn = document.getElementById("copyBtn");
    const copyStatusEl = document.getElementById("copyStatus");

    const step1 = document.getElementById("step1");
    const step2 = document.getElementById("step2");
    const step3 = document.getElementById("step3");
    const step4 = document.getElementById("step4");
    const steps = [step1, step2, step3, step4];

    function updateProgress() {
      const total = questions.length;
      const current = currentQuestionIndex + 1;
      progressTextEl.textContent = `Pertanyaan ${current}/${total}`;
      const percent = (currentQuestionIndex / total) * 100;
      progressFillEl.style.width = `${percent}%`;
    }

    function resetLevelMeter() {
      steps.forEach(step => step.classList.remove("active"));
    }

    function showQuestion() {
      const current = questions[currentQuestionIndex];
      questionTextEl.textContent = current.text;
      questionIconEl.textContent = current.icon || "üì±";
      feedbackEl.textContent = "";
      resultEl.textContent = "";
      resultVisualEl.innerHTML = "";
      shareContainerEl.style.display = "none";
      copyStatusEl.textContent = "";
      resetLevelMeter();

      optionsEl.innerHTML = "";
      nextBtn.disabled = true;
      nextBtn.textContent =
        currentQuestionIndex === questions.length - 1
          ? "Lihat hasil refleksi"
          : "Pertanyaan berikutnya";

      current.options.forEach((option, index) => {
        const btn = document.createElement("button");
        btn.className = "option-btn";

        const badge = document.createElement("span");
        badge.className = "option-badge";
        badge.textContent = index === 0 ? "A" : index === 1 ? "B" : "C";

        const textSpan = document.createElement("span");
        textSpan.className = "option-text";
        textSpan.textContent = option.text;

        btn.appendChild(badge);
        btn.appendChild(textSpan);

        btn.addEventListener("click", () => handleOptionClick(index));
        optionsEl.appendChild(btn);
      });

      updateProgress();
    }

    function handleOptionClick(selectedIndex) {
      const current = questions[currentQuestionIndex];
      const optionButtons = document.querySelectorAll(".option-btn");

      optionButtons.forEach((btn, index) => {
        btn.classList.add("disabled");
        const isCorrect = current.options[index].correct;
        if (isCorrect) {
          btn.classList.add("correct");
        }
        if (index === selectedIndex && !isCorrect) {
          btn.classList.add("wrong");
        }
      });

      const selectedOption = current.options[selectedIndex];
      if (selectedOption.correct) {
        score++;
      } else {
        weakAreas.push(current.area);
      }

      feedbackEl.textContent = selectedOption.feedback;
      nextBtn.disabled = false;
    }

    function showResult() {
      optionsEl.innerHTML = "";
      feedbackEl.textContent = "";
      questionTextEl.textContent = "Refleksi Penggunaan Gadget di Keluarga";
      questionIconEl.textContent = "üß©";

      const total = questions.length;
      resultEl.textContent = `Anda memilih jawaban yang paling mendukung pengasuhan digital sehat pada ${score} dari ${total} situasi. Terima kasih sudah mau merefleksikan pola di rumah.`;

      let level, title, body, emoji, levelClass;
      const percentage = (score / total) * 100;

      if (percentage <= 25) {
        level = 1;
        emoji = "üö®";
        levelClass = "level-1";
        title = "Perlu Banyak Perbaikan, tetapi Anda Sudah Memulai Langkah Penting";
        body =
          "Tidak apa-apa jika hasilnya masih rendah. Justru dengan mengisi refleksi ini, Anda sudah melakukan satu langkah besar: menyadari bahwa pola penggunaan gawai di rumah perlu ditata ulang. Anda layak diapresiasi karena berani melihat kondisi apa adanya dan siap belajar memperbaikinya.";
      } else if (percentage <= 50) {
        level = 2;
        emoji = "üîç";
        levelClass = "level-2";
        title = "Sedang Belajar dan Mencari Pola yang Lebih Sehat";
        body =
          "Anda sudah memiliki beberapa kebiasaan baik dalam mengatur gawai, meskipun masih naik-turun. Ini adalah posisi yang wajar bagi banyak orangtua di era digital. Yang terpenting, Anda sudah berada di jalur yang tepat dan bersedia memperkuat hal-hal yang masih lemah. Usaha Anda patut dihargai.";
      } else if (percentage <= 80) {
        level = 3;
        emoji = "üå±";
        levelClass = "level-3";
        title = "Sudah Cukup Bijak, Tinggal Dikuatkan dan Dirapikan";
        body =
          "Selamat, sebagian besar kebiasaan Anda sudah mendukung penggunaan gawai yang cukup seimbang bagi anak. Anda sudah melakukan banyak hal baik dan itu pantas untuk diapresiasi. Masih ada beberapa area yang bisa diperkuat, tetapi pondasi pengasuhan digital di keluarga Anda sudah cukup kokoh.";
      } else {
        level = 4;
        emoji = "üåü";
        levelClass = "level-4";
        title = "Oke Banget! Anda Menjadi Role Model Pengasuhan Digital";
        body =
          "Luar biasa. Hasil ini menunjukkan bahwa Anda sangat reflektif dan cukup konsisten dalam mengatur gawai di rumah. Anda layak disebut sebagai teladan dalam pengasuhan digital yang seimbang dan penuh kehangatan. Tetaplah rendah hati dan fleksibel, karena dunia digital akan terus berubah dan selalu ada hal baru untuk dipelajari.";
      }

      // Level meter highlight
      resetLevelMeter();
      if (level >= 1 && level <= 4) {
        steps[level - 1].classList.add("active");
      }

      // Kartu hasil visual
      const card = document.createElement("div");
      card.className = `result-card ${levelClass}`;

      const emojiDiv = document.createElement("div");
      emojiDiv.className = "result-emoji";
      emojiDiv.textContent = emoji;

      const textWrap = document.createElement("div");
      const titleEl = document.createElement("div");
      titleEl.className = "result-text-title";
      titleEl.textContent = title;

      const bodyEl = document.createElement("div");
      bodyEl.className = "result-text-body";
      bodyEl.textContent = body;

      textWrap.appendChild(titleEl);
      textWrap.appendChild(bodyEl);

      card.appendChild(emojiDiv);
      card.appendChild(textWrap);

      resultVisualEl.innerHTML = "";
      resultVisualEl.appendChild(card);

      // Tips utama berdasarkan level
      const tipsTitle = document.createElement("div");
      tipsTitle.className = "tips-section-title";
      tipsTitle.textContent = "Tips langkah kecil yang bisa Anda coba berdasarkan hasil ini:";

      const tipsUl = document.createElement("ul");
      tipsUl.className = "tips-list";

      const levelTipsList = levelTips[level] || [];
      levelTipsList.forEach(tip => {
        const li = document.createElement("li");
        li.textContent = tip;
        tipsUl.appendChild(li);
      });

      resultVisualEl.appendChild(tipsTitle);
      resultVisualEl.appendChild(tipsUl);

      // Tips spesifik berdasarkan area yang lemah
      const uniqueWeakAreas = Array.from(new Set(weakAreas));
      if (uniqueWeakAreas.length > 0) {
        const areaSection = document.createElement("div");
        areaSection.className = "area-section";

        const areaTitle = document.createElement("div");
        areaTitle.className = "area-section-title";
        areaTitle.textContent = "Area yang masih bisa diperkuat berdasarkan jawaban Anda:";

        areaSection.appendChild(areaTitle);

        const areaUl = document.createElement("ul");
        uniqueWeakAreas.forEach(areaName => {
          const tipsForArea = areaTips[areaName] || [];
          tipsForArea.forEach(tip => {
            const li = document.createElement("li");
            li.textContent = `${areaName}: ${tip}`;
            areaUl.appendChild(li);
          });
        });

        areaSection.appendChild(areaUl);
        resultVisualEl.appendChild(areaSection);
      }

      // Siapkan teks refleksi untuk dibagikan
      const levelTipsText = levelTipsList.map(t => `- ${t}`).join("\n");
      let areaText = "";
      if (uniqueWeakAreas.length > 0) {
        areaText = "\nArea yang perlu saya perkuat:\n";
        uniqueWeakAreas.forEach(areaName => {
          const tipsForArea = areaTips[areaName] || [];
          tipsForArea.forEach(tip => {
            areaText += `- (${areaName}) ${tip}\n`;
          });
        });
      }

      const shareText =
        `Refleksi penggunaan gawai di keluarga\n` +
        `---------------------------------------\n` +
        `Skor saya: ${score} dari ${total} situasi.\n` +
        `Perkiraan level: ${title}\n\n` +
        `Catatan refleksi utama:\n${body}\n\n` +
        `Langkah kecil yang ingin saya coba (berdasarkan hasil kuis):\n${levelTipsText}\n` +
        `${areaText}\n` +
        `Saya ingin memilih 1‚Äì2 langkah di atas untuk mulai diterapkan minggu ini bersama keluarga.`;

      shareTextEl.value = shareText;
      shareContainerEl.style.display = "block";

      nextBtn.disabled = true;
      progressFillEl.style.width = "100%";
    }

    nextBtn.addEventListener("click", () => {
      if (currentQuestionIndex < questions.length - 1) {
        currentQuestionIndex++;
        showQuestion();
      } else {
        showResult();
      }
    });

    copyBtn.addEventListener("click", () => {
      const textToCopy = shareTextEl.value;
      if (!textToCopy) return;

      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard
          .writeText(textToCopy)
          .then(() => {
            copyStatusEl.textContent = "Teks refleksi berhasil disalin ‚úÖ";
          })
          .catch(() => {
            copyStatusEl.textContent = "Gagal menyalin. Silakan blok teks dan salin secara manual.";
          });
      } else {
        shareTextEl.select();
        document.execCommand("copy");
        copyStatusEl.textContent = "Teks refleksi berhasil disalin ‚úÖ";
      }
    });

    // mulai game
    showQuestion();
  </script>
</body>
</html>
