<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sudah Bijak Belum Mengatur Gadget Anak?</title>
  <style>
    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      margin: 0;
      padding: 16px;
      background: radial-gradient(circle at top, #e1f0ff 0, #f4f6ff 40%, #fdfdfd 100%);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .game-shell {
      max-width: 640px;
      width: 100%;
      padding: 4px;
      border-radius: 28px;
      background: linear-gradient(135deg, #4f7cff, #36c1a6);
      box-shadow: 0 18px 40px rgba(35, 55, 150, 0.25);
      position: relative;
      overflow: visible;
    }

    .glow-ring {
      position: absolute;
      inset: -40px;
      background: radial-gradient(circle at top, rgba(94, 143, 255, 0.25), transparent 60%);
      opacity: 0.7;
      pointer-events: none;
      z-index: 0;
    }

    .game-container {
      position: relative;
      z-index: 2;
      background: #ffffff;
      border-radius: 24px;
      padding: 20px 20px 22px;
      overflow: hidden;
    }

    .bubble {
      position: absolute;
      border-radius: 50%;
      opacity: 0.16;
      pointer-events: none;
      filter: blur(0.5px);
    }

    .bubble.b1 {
      width: 130px;
      height: 130px;
      background: #8ea3ff;
      top: -50px;
      right: -30px;
      animation: float1 12s linear infinite;
    }

    .bubble.b2 {
      width: 90px;
      height: 90px;
      background: #36c1a6;
      bottom: -40px;
      left: -20px;
      animation: float2 10s linear infinite;
    }

    .bubble.b3 {
      width: 70px;
      height: 70px;
      background: #ffd88a;
      top: 38%;
      right: -20px;
      animation: float3 14s linear infinite;
    }

    @keyframes float1 {
      0% { transform: translateY(0); }
      50% { transform: translateY(10px); }
      100% { transform: translateY(0); }
    }

    @keyframes float2 {
      0% { transform: translateY(0); }
      50% { transform: translateY(-12px); }
      100% { transform: translateY(0); }
    }

    @keyframes float3 {
      0% { transform: translateY(0); }
      50% { transform: translateY(8px); }
      100% { transform: translateY(0); }
    }

    .content {
      position: relative;
      z-index: 1;
      animation: fadeIn 0.4s ease-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(4px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .top-row {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 8px;
      margin-bottom: 8px;
    }

    .pill {
      font-size: 0.72rem;
      background: rgba(79, 124, 255, 0.06);
      border-radius: 999px;
      padding: 4px 8px;
      color: #4f5a88;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .pill-dot {
      width: 7px;
      height: 7px;
      border-radius: 50%;
      background: #4f7cff;
    }

    .hero {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 4px;
    }

    .hero-icon-wrapper {
      position: relative;
      width: 64px;
      height: 64px;
      flex-shrink: 0;
    }

    .hero-icon-main {
      width: 64px;
      height: 64px;
      border-radius: 20px;
      background: radial-gradient(circle at 10% 0%, #8ea3ff, #4f7cff);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      color: #fff;
      box-shadow: 0 10px 20px rgba(79, 124, 255, 0.55);
    }

    .hero-icon-sub {
      position: absolute;
      bottom: -2px;
      right: -2px;
      width: 28px;
      height: 28px;
      border-radius: 999px;
      background: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.15rem;
      border: 2px solid #dfe5ff;
      box-shadow: 0 4px 10px rgba(46, 65, 160, 0.25);
    }

    .hero-text h1 {
      font-size: 1.25rem;
      margin: 0 0 4px;
      color: #17213d;
    }

    .hero-text p {
      margin: 0;
      font-size: 0.82rem;
      color: #5b6487;
    }

    .subtitle {
      margin: 6px 0 14px;
      font-size: 0.78rem;
      color: #7a82a7;
    }

    #progress {
      font-size: 0.8rem;
      color: #5f6a8a;
      margin-bottom: 6px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
    }

    .progress-label {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .progress-badge {
      font-size: 0.7rem;
      padding: 2px 6px;
      border-radius: 999px;
      background: #eff1ff;
      color: #424c7a;
    }

    .progress-bar {
      flex: 1;
      height: 7px;
      background: #e3e7ff;
      border-radius: 999px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, #4f7cff, #36c1a6);
      transition: width 0.25s ease;
    }

    #question {
      font-size: 0.98rem;
      font-weight: 600;
      color: #232b4d;
      margin: 10px 0 10px;
      display: flex;
      gap: 8px;
      align-items: flex-start;
    }

    #question-icon {
      font-size: 1.2rem;
      margin-top: 2px;
    }

    #question-text {
      flex: 1;
    }

    #options {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-bottom: 10px;
    }

    .option-btn {
      border: 1px solid #d4dbff;
      background: #f7f8ff;
      padding: 10px 11px;
      border-radius: 14px;
      text-align: left;
      font-size: 0.9rem;
      cursor: pointer;
      transition: transform 0.12s ease, box-shadow 0.12s ease, background 0.12s ease, border-color 0.12s ease;
      display: flex;
      gap: 8px;
      align-items: flex-start;
      position: relative;
      overflow: hidden;
    }

    .option-btn::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 0 0, rgba(79, 124, 255, 0.08), transparent 60%);
      opacity: 0;
      transition: opacity 0.15s ease;
      pointer-events: none;
    }

    .option-btn:hover::before {
      opacity: 1;
    }

    .option-badge {
      font-size: 0.8rem;
      margin-top: 2px;
      width: 22px;
      height: 22px;
      border-radius: 999px;
      background: #e2e6ff;
      color: #3b4578;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      flex-shrink: 0;
    }

    .option-icon-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      margin-top: 6px;
      background: #c3ccff;
      flex-shrink: 0;
    }

    .option-btn span.option-text {
      flex: 1;
    }

    .option-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 6px 14px rgba(0, 0, 0, 0.06);
    }

    .option-btn.disabled {
      opacity: 0.9;
      cursor: default;
      pointer-events: none;
    }

    .option-btn.selected {
      background: #e3ecff;
      border-color: #4f7cff;
      box-shadow: 0 5px 12px rgba(79, 124, 255, 0.35);
    }

    .option-btn.selected .option-badge {
      background: #4f7cff;
      color: #fff;
    }

    #feedback {
      font-size: 0.83rem;
      min-height: 40px;
      margin-bottom: 8px;
      color: #3b425f;
    }

    #nextBtn {
      width: 100%;
      border: none;
      background: linear-gradient(135deg, #4f7cff, #687dff);
      color: white;
      padding: 10px 12px;
      font-size: 0.93rem;
      border-radius: 12px;
      cursor: pointer;
      font-weight: 600;
      letter-spacing: 0.01em;
      transition: background 0.12s ease, transform 0.12s ease, box-shadow 0.12s ease;
      margin-bottom: 6px;
    }

    #nextBtn:disabled {
      background: #c1c7ff;
      cursor: default;
      box-shadow: none;
      transform: none;
    }

    #nextBtn:not(:disabled):hover {
      background: linear-gradient(135deg, #3a48dc, #4f7cff);
      transform: translateY(-1px);
      box-shadow: 0 8px 18px rgba(66, 85, 255, 0.45);
    }

    #result {
      margin-top: 4px;
      font-size: 0.9rem;
      color: #232b4d;
      text-align: center;
    }

    .level-meter {
      margin-top: 12px;
      display: flex;
      justify-content: space-between;
      gap: 6px;
      font-size: 0.72rem;
      color: #6b7395;
    }

    .level-step {
      flex: 1;
      background: #f3f4ff;
      border-radius: 999px;
      padding: 4px 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 4px;
      opacity: 0.6;
    }

    .level-step span.icon {
      font-size: 1rem;
    }

    .level-step.active {
      background: linear-gradient(135deg, #4f7cff, #9ac0ff);
      color: #fff;
      opacity: 1;
      box-shadow: 0 4px 12px rgba(79, 124, 255, 0.55);
    }

    .result-visual {
      margin-top: 12px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
    }

    .result-card {
      width: 100%;
      border-radius: 18px;
      padding: 12px 10px;
      display: flex;
      gap: 10px;
      align-items: center;
    }

    .result-emoji {
      width: 54px;
      height: 54px;
      border-radius: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      background: rgba(255, 255, 255, 0.7);
    }

    .result-text-title {
      font-size: 1rem;
      font-weight: 700;
      margin-bottom: 2px;
    }

    .result-text-body {
      font-size: 0.86rem;
      line-height: 1.3;
    }

    .level-1 {
      background: linear-gradient(135deg, #ff9a9a, #ff6b6b);
      color: #fff;
    }

    .level-2 {
      background: linear-gradient(135deg, #ffd88a, #ffb347);
      color: #4b2c05;
    }

    .level-3 {
      background: linear-gradient(135deg, #a5e7d7, #4fc3a1);
      color: #053a32;
    }

    .level-4 {
      background: linear-gradient(135deg, #9ac0ff, #4f7cff);
      color: #041738;
    }

    .tips-section-title {
      font-size: 0.86rem;
      font-weight: 600;
      margin-top: 10px;
      margin-bottom: 4px;
      color: #202744;
      align-self: flex-start;
    }

    .tips-list {
      margin: 0;
      padding-left: 18px;
      font-size: 0.82rem;
      color: #3c4463;
    }

    .tips-list li {
      margin-bottom: 3px;
    }

    .area-section {
      margin-top: 8px;
      font-size: 0.82rem;
      color: #3c4463;
      align-self: stretch;
    }

    .area-section-title {
      font-weight: 600;
      margin-bottom: 2px;
    }

    .area-section ul {
      padding-left: 18px;
      margin: 0;
    }

    .tagline {
      font-size: 0.78rem;
      color: #8c94b8;
      text-align: center;
      margin-top: 8px;
    }

    .share-container {
      margin-top: 10px;
      padding-top: 8px;
      border-top: 1px dashed #d8ddff;
      display: none;
    }

    .share-label {
      font-size: 0.8rem;
      color: #5b6487;
      margin-bottom: 4px;
    }

    #shareText {
      width: 100%;
      min-height: 90px;
      border-radius: 12px;
      border: 1px solid #d4dbff;
      padding: 8px;
      font-size: 0.8rem;
      resize: vertical;
      background: #f7f8ff;
    }

    #copyBtn {
      margin-top: 6px;
      width: 100%;
      border: none;
      background: #36c1a6;
      color: #fff;
      padding: 8px 10px;
      font-size: 0.85rem;
      border-radius: 11px;
      cursor: pointer;
      font-weight: 600;
      transition: background 0.12s ease, transform 0.12s ease, box-shadow 0.12s ease;
    }

    #copyBtn:hover {
      background: #2aa28a;
      transform: translateY(-1px);
      box-shadow: 0 4px 10px rgba(42, 162, 138, 0.35);
    }

    #copyStatus {
      margin-top: 4px;
      font-size: 0.78rem;
      color: #5b6487;
      text-align: center;
      min-height: 16px;
    }

    @media (max-width: 480px) {
      .game-shell {
        padding: 3px;
      }
      .game-container {
        padding: 16px 14px 18px;
      }
      .hero-text h1 {
        font-size: 1.1rem;
      }
    }
  </style>
</head>
<body>
  <div class="game-shell">
    <div class="glow-ring"></div>
    <div class="game-container">
      <div class="bubble b1"></div>
      <div class="bubble b2"></div>
      <div class="bubble b3"></div>

      <div class="content">
        <div class="top-row">
          <div class="pill">
            <span class="pill-dot"></span>
            <span>Mini game refleksi pengasuhan digital</span>
          </div>
        </div>

        <div class="hero">
          <div class="hero-icon-wrapper">
            <div class="hero-icon-main">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</div>
            <div class="hero-icon-sub">üì±</div>
          </div>
          <div class="hero-text">
            <h1>Sudah Bijak Belum Mengatur Gadget Anak?</h1>
            <p>Refleksi singkat untuk melihat pola pengasuhan digital & screen time di keluarga Anda.</p>
          </div>
        </div>
        <p class="subtitle">
          Pilih jawaban yang paling mendekati kebiasaan sehari-hari. Tidak ada jawaban ‚Äúbenar‚Äìsalah‚Äù, yang ada adalah proses belajar dan bertumbuh bersama. üíô
        </p>

        <div id="progress">
          <div class="progress-label">
            <span id="progressText">Pertanyaan 1/10</span>
            <span class="progress-badge">Orangtua & gadget</span>
          </div>
          <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
          </div>
        </div>

        <div id="question">
          <span id="question-icon">üì±</span>
          <span id="question-text"></span>
        </div>

        <div id="options"></div>
        <div id="feedback"></div>

        <button id="nextBtn" disabled>Pertanyaan berikutnya</button>
        <div id="result"></div>

        <div class="level-meter">
          <div class="level-step" id="step1">
            <span class="icon">üö®</span><span>Perlu banyak perbaikan</span>
          </div>
          <div class="level-step" id="step2">
            <span class="icon">üîç</span><span>Sedang belajar</span>
          </div>
          <div class="level-step" id="step3">
            <span class="icon">üå±</span><span>Cukup bijak</span>
          </div>
          <div class="level-step" id="step4">
            <span class="icon">üåü</span><span>Role model</span>
          </div>
        </div>

        <div id="resultVisual" class="result-visual"></div>

        <div id="shareContainer" class="share-container">
          <div class="share-label">Teks refleksi (bisa disalin ke WA/grup orangtua):</div>
          <textarea id="shareText" readonly></textarea>
          <button id="copyBtn">Salin teks refleksi</button>
          <div id="copyStatus"></div>
        </div>

        <p class="tagline">Gadget hanyalah alat. Kehangatan, kehadiran, dan konsistensi Anda adalah ‚Äúaplikasi‚Äù utama bagi anak. üåø</p>
      </div>
    </div>
  </div>

  <script>
    const questions = [
      {
        icon: "‚è∞",
        text: "Di rumah, apakah sudah ada aturan durasi harian penggunaan gadget untuk anak (misalnya 1‚Äì2 jam per hari)?",
        area: "Waktu & durasi",
        options: [
          {
            text: "Belum ada aturan sama sekali, berjalan saja apa adanya.",
            score: 1,
            feedback: "Tanpa batas waktu yang jelas, anak cenderung menggunakan gadget berlebihan dan sulit dikendalikan. Ini titik awal yang baik untuk mulai menyusun aturan sederhana."
          },
          {
            text: "Ada aturan, tetapi sering dilanggar baik oleh anak maupun orangtua.",
            score: 2,
            feedback: "Ini langkah awal yang baik. Tantangannya adalah memperkuat konsistensi dan menjadi contoh dalam mengikuti kesepakatan yang dibuat."
          },
          {
            text: "Ada aturan jelas, disepakati bersama dan cukup konsisten dijalankan.",
            score: 3,
            feedback: "Bagus sekali. Aturan yang disepakati bersama dan dijalankan konsisten mengajarkan anak tentang tanggung jawab dan pengendalian diri."
          }
        ]
      },
      {
        icon: "üëÄ",
        text: "Saat mendampingi anak, seberapa sering Anda ikut asyik sendiri dengan gadget (scroll media sosial, chat, dll.)?",
        area: "Contoh dari orangtua",
        options: [
          {
            text: "Hampir selalu, sekalian mumpung bisa membalas pesan dan mengecek media sosial.",
            score: 1,
            feedback: "Anak belajar dari apa yang mereka lihat. Jika orangtua sering sibuk dengan gadget, anak cenderung meniru pola tersebut."
          },
          {
            text: "Kadang-kadang masih sambil memegang gadget, tetapi Anda mencoba mengurangi.",
            score: 2,
            feedback: "Ini sudah bentuk usaha yang baik. Dengan sedikit penguatan, anak akan semakin merasakan bahwa perhatian Anda hadir untuknya."
          },
          {
            text: "Saat bersama anak (makan, mengobrol, bermain), gadget biasanya disimpan terlebih dahulu.",
            score: 3,
            feedback: "Luar biasa. Kehadiran penuh orangtua membuat anak merasa penting, dilihat, dan dihargai secara emosional."
          }
        ]
      },
      {
        icon: "üö´",
        text: "Bagaimana aturan gadget di zona tanpa gadget di rumah (misalnya kamar tidur, kamar mandi, dan ruang makan/meja makan keluarga)?",
        area: "Zona tanpa gadget",
        options: [
          {
            text: "Belum ada zona khusus, gadget boleh dibawa ke kamar tidur, kamar mandi, dan ruang makan.",
            score: 1,
            feedback: "Tanpa zona tanpa gadget, gadget mudah masuk ke momen istirahat, kebersihan diri, dan waktu makan, sehingga keseimbangan aktivitas anak terganggu."
          },
          {
            text: "Ada beberapa momen dilarang, tetapi sering kali longgar atau tergantung situasi.",
            score: 2,
            feedback: "Ini langkah awal yang baik. Dengan membuat zona tanpa gadget yang lebih konsisten, anak akan memiliki ruang untuk beristirahat dari layar."
          },
          {
            text: "Kamar tidur, kamar mandi, dan ruang makan/meja makan adalah zona bebas gadget bagi seluruh anggota keluarga.",
            score: 3,
            feedback: "Sangat baik. Zona tanpa gadget membantu anak memiliki waktu istirahat berkualitas, fokus saat makan, dan ruang aman dari paparan layar berlebihan."
          }
        ]
      },
      {
        icon: "üåô",
        text: "Bagaimana kebiasaan anak menjelang tidur terkait penggunaan gadget?",
        area: "Gadget sebelum tidur",
        options: [
          {
            text: "Sering menggunakan gadget sampai benar-benar mengantuk, baru gadget dimatikan.",
            score: 1,
            feedback: "Layar sebelum tidur membuat otak anak sulit beristirahat dan dapat mengganggu kualitas tidur pada jangka panjang."
          },
          {
            text: "Kadang berhenti menggunakan gadget sebelum tidur, tetapi belum konsisten.",
            score: 2,
            feedback: "Perubahan kecil sudah baik. Rutinitas menjelang tidur tanpa gadget yang konsisten akan semakin membantu kesehatan fisik dan emosional anak."
          },
          {
            text: "Ada aturan berhenti gadget minimal 30‚Äì60 menit sebelum tidur dengan rutinitas tenang (membaca buku, mengobrol).",
            score: 3,
            feedback: "Kebiasaan ini sangat mendukung pola tidur sehat dan seimbang, selaras dengan prinsip pengaturan screen time yang Anda susun."
          }
        ]
      },
      {
        icon: "üß≠",
        text: "Saat anak online (menonton video, bermain gim, atau menggunakan media sosial), seberapa sering Anda mendampingi atau mengecek kontennya?",
        area: "Pendampingan konten",
        options: [
          {
            text: "Jarang, yang penting anak diam dan tidak rewel.",
            score: 1,
            feedback: "Tanpa pendampingan, anak lebih berisiko terpapar konten yang tidak sesuai usia atau nilai keluarga."
          },
          {
            text: "Kadang mengecek jika teringat atau jika ada hal yang mencurigakan.",
            score: 2,
            feedback: "Ini langkah awal yang baik. Pendampingan yang lebih rutin akan membuat anak merasa lebih aman dan lebih mudah bercerita jika ada masalah."
          },
          {
            text: "Rutin mengecek dan sesekali ikut menonton atau bermain bersama anak.",
            score: 3,
            feedback: "Hebat. Pendampingan aktif seperti ini memperkuat relasi, sekaligus membangun literasi digital dan daya kritis anak."
          }
        ]
      },
      {
        icon: "üîê",
        text: "Apakah Anda menggunakan fitur pengaturan keamanan (parental control, filter konten, batas waktu) di perangkat gadget anak?",
        area: "Fitur keamanan",
        options: [
          {
            text: "Belum, karena terasa rumit atau belum sempat mempelajari.",
            score: 1,
            feedback: "Fitur ini sebenarnya dapat menjadi ‚Äúteman bantu‚Äù orangtua untuk menjaga anak di ruang digital, selain pendampingan langsung."
          },
          {
            text: "Sudah mengetahui fitur tersebut, tetapi baru sebagian kecil yang digunakan.",
            score: 2,
            feedback: "Ini adalah langkah yang baik. Secara bertahap, Anda dapat menambah fitur yang sesuai usia dan kebutuhan anak."
          },
          {
            text: "Ya, sudah mengaktifkan beberapa fitur sesuai usia dan kebutuhan anak.",
            score: 3,
            feedback: "Bagus sekali. Menggabungkan pengawasan orangtua dengan pengaturan fitur keamanan adalah praktik pengasuhan digital yang kuat."
          }
        ]
      },
      {
        icon: "üó£Ô∏è",
        text: "Saat membuat aturan gadget, apakah anak diajak berdiskusi dan menyampaikan pendapatnya?",
        area: "Dialog & kesepakatan",
        options: [
          {
            text: "Tidak, aturan dibuat sepihak demi praktis. Anak tinggal mengikuti.",
            score: 1,
            feedback: "Tanpa ruang dialog, anak mungkin merasa aturan hanya sebagai larangan, bukan sebagai perlindungan untuk dirinya."
          },
          {
            text: "Kadang diajak berbicara, tetapi keputusan akhir tetap orangtua tanpa banyak dialog.",
            score: 2,
            feedback: "Ini sudah mengarah pada dialog. Menambah ruang diskusi akan membuat anak merasa lebih dilibatkan dan dihargai."
          },
          {
            text: "Ya, anak diajak berdiskusi, boleh memberi masukan, kemudian disepakati bersama.",
            score: 3,
            feedback: "Ini sangat sejalan dengan prinsip pengasuhan positif: aturan dilihat sebagai kesepakatan bersama, bukan hanya perintah."
          }
        ]
      },
      {
        icon: "üí¢",
        text: "Jika anak marah atau tantrum saat diminta berhenti menggunakan gadget, apa yang biasanya Anda lakukan?",
        area: "Disiplin positif & emosi",
        options: [
          {
            text: "Ikut marah, membentak, atau langsung mengambil paksa gadget.",
            score: 1,
            feedback: "Cara ini wajar muncul saat lelah, tetapi dapat membuat anak merasa tidak didengar dan memperpanjang konflik."
          },
          {
            text: "Membiarkan dulu sampai tenang, baru diajak bicara setelahnya.",
            score: 2,
            feedback: "Strategi ini lebih tenang. Akan lebih kuat jika disertai penjelasan dan latihan mengelola emosi bersama anak."
          },
          {
            text: "Mengakui perasaan anak (marah/sedih), menjelaskan alasannya, dan tetap konsisten dengan kesepakatan.",
            score: 3,
            feedback: "Ini contoh disiplin positif: tetap tegas pada aturan, tetapi hangat dan membantu anak belajar tentang emosi."
          }
        ]
      },
      {
        icon: "üé®",
        text: "Seberapa sering Anda menawarkan kegiatan alternatif selain gadget (bermain, olahraga, mengobrol, membuat karya)?",
        area: "Alternatif kegiatan",
        options: [
          {
            text: "Jarang, karena semua orang di rumah juga sibuk dengan gadget masing-masing.",
            score: 1,
            feedback: "Tanpa alternatif, wajar jika anak menjadikan gadget sebagai satu-satunya sumber hiburan dan regulasi emosi."
          },
          {
            text: "Kadang menawarkan, tetapi jika anak menolak biasanya dibiarkan kembali ke gadget.",
            score: 2,
            feedback: "Ini langkah awal yang baik. Jika kegiatan alternatif dibuat lebih menarik dan melibatkan Anda, anak lebih mudah tertarik."
          },
          {
            text: "Cukup sering menawarkan dan ikut terlibat (misalnya bermain bersama, membaca buku, memasak bersama).",
            score: 3,
            feedback: "Sangat baik. Pengalaman menyenangkan bersama orangtua adalah ‚Äúkonten‚Äù penting bagi perkembangan emosi dan sosial anak."
          }
        ]
      },
      {
        icon: "üß†",
        text: "Apakah Anda rutin mengajak anak mengobrol tentang apa yang mereka tonton atau mainkan di gadget (hal yang disukai, yang membuat takut, bingung, dll.)?",
        area: "Obrolan tentang dunia digital",
        options: [
          {
            text: "Hampir tidak pernah, yang penting anak tidak mengganggu.",
            score: 1,
            feedback: "Tanpa ruang obrolan, anak mungkin menyimpan kebingungan, ketakutan, atau pengalaman tidak nyaman sendirian."
          },
          {
            text: "Sesekali menanyakan, biasanya jika ada berita viral atau kejadian tertentu.",
            score: 2,
            feedback: "Ini sudah baik. Jika obrolan dibuat lebih rutin, anak akan terbiasa melihat Anda sebagai tempat bercerita yang aman."
          },
          {
            text: "Sering mengajak mengobrol santai tentang pengalaman digital anak dengan bahasa yang tidak menghakimi.",
            score: 3,
            feedback: "Hebat. Ini sejalan dengan prinsip pendampingan digital yang hangat: anak merasa aman bercerita kapan pun ada masalah."
          }
        ]
      }
    ];

    const levelTips = {
      1: [
        "Mulailah dengan satu aturan kecil yang mudah dilakukan, misalnya menulis durasi maksimal gadget per hari dan menempelkannya di kulkas.",
        "Ajak seluruh anggota keluarga, termasuk orang dewasa, untuk ikut mematuhi aturan yang sama agar anak merasa adil.",
        "Pilih satu momen tetap setiap hari sebagai zona bebas gadget, misalnya saat makan malam atau 30 menit sebelum tidur.",
        "Luangkan waktu 5‚Äì10 menit setiap hari hanya untuk mendengarkan cerita anak tanpa gadget di tangan Anda.",
        "Pelajari satu fitur keamanan sederhana terlebih dahulu, misalnya pengaturan batas waktu di ponsel atau tablet.",
        "Jangan menyalahkan diri sendiri; lihat hasil refleksi ini sebagai titik mulai, bukan vonis akhir.",
        "Jika anak marah ketika aturan baru diterapkan, validasi perasaannya dengan kalimat seperti, \"Ibu/Bapak tahu kamu kecewa, tetapi kita sedang belajar bersama.\"",
        "Cari satu aktivitas pengganti yang menyenangkan, seperti board game, menggambar, atau memasak sederhana bersama anak.",
        "Catat perubahan kecil yang berhasil Anda jalankan dalam seminggu, lalu rayakan keberhasilan tersebut bersama anak.",
        "Jika terasa sulit, Anda boleh meminta dukungan pasangan, keluarga, atau komunitas orangtua lain sehingga tidak merasa sendirian."
      ],
      2: [
        "Berikan apresiasi pada diri sendiri karena sudah mulai membangun aturan dan kebiasaan baik di rumah.",
        "Identifikasi dua kebiasaan yang paling sering membuat aturan gadget bocor dan fokus memperbaikinya terlebih dahulu.",
        "Libatkan anak dalam mengevaluasi aturan yang sudah ada dengan pertanyaan, \"Apa yang sudah oke dan apa yang perlu kita ubah?\"",
        "Coba jadwalkan waktu tanpa gadget untuk seluruh keluarga di akhir pekan, misalnya satu jam bermain di luar rumah.",
        "Perkuat konsistensi dengan membuat pengingat visual, seperti poster aturan gadget yang dibuat bersama anak.",
        "Jelaskan alasan di balik aturan dengan bahasa yang sederhana, misalnya, \"Kalau terlalu lama menatap layar, mata bisa cepat lelah.\"",
        "Latih diri Anda untuk meletakkan gadget ketika anak sedang bercerita, sehingga ia merasa lebih dihargai.",
        "Mulailah menambahkan satu fitur keamanan baru setiap beberapa minggu, sambil menjelaskan tujuannya kepada anak.",
        "Jika terjadi konflik, gunakan momen tersebut sebagai kesempatan belajar, bukan sekadar memarahi atau menyerah.",
        "Teruslah merayakan setiap kemajuan kecil, karena perubahan pola pengasuhan digital adalah proses jangka panjang."
      ],
      3: [
        "Akui bahwa Anda sudah melakukan banyak hal baik dalam pengasuhan digital dan itu patut diapresiasi.",
        "Gunakan hasil refleksi ini untuk memperhalus area tertentu, misalnya konsistensi jam tidur atau keterlibatan saat anak online.",
        "Pertahankan kebiasaan mengajak anak berdiskusi sebelum membuat aturan gadget baru, sehingga anak merasa menjadi bagian dari solusi.",
        "Perluas variasi aktivitas tanpa gadget agar anak memiliki lebih banyak pilihan yang sama menyenangkannya.",
        "Tingkatkan kualitas kehadiran Anda dengan sesekali menginisiasi obrolan tentang perasaan anak saat ia berada di dunia digital.",
        "Evaluasi secara berkala pengaturan keamanan di perangkat, karena kebutuhan anak akan berubah seiring bertambahnya usia.",
        "Gunakan konflik kecil tentang gadget sebagai latihan bersama untuk mengelola emosi, bukan sekadar situasi yang ingin dihindari.",
        "Berbagi pengalaman Anda dengan orangtua lain dapat menguatkan praktik baik yang sudah berjalan di rumah.",
        "Tetaplah terbuka pada masukan anak, karena mereka sering punya sudut pandang baru terkait teknologi yang bisa membantu orangtua.",
        "Jadikan rumah sebagai tempat di mana teknologi dipakai dengan sadar, bukan sekadar kebiasaan otomatis tanpa pertimbangan."
      ],
      4: [
        "Apresiasi diri Anda sebagai sosok yang sudah berusaha menjadi teladan dalam pengasuhan digital yang bijak.",
        "Gunakan posisi ini untuk terus belajar, karena dunia digital sangat cepat berubah dan membutuhkan penyesuaian berkelanjutan.",
        "Libatkan anak dalam menyusun ulang aturan gadget secara berkala, sehingga ia merasa dipercaya dan bertanggung jawab.",
        "Bagikan cerita keberhasilan dan tantangan Anda kepada orangtua lain, sehingga praktik baik ini bisa menginspirasi lingkungan sekitar.",
        "Tetap awasi sinyal kelelahan digital pada anak, seperti mudah marah, susah tidur, atau sulit lepas dari gadget.",
        "Pertahankan kebiasaan berdialog dengan nada tenang ketika terjadi pelanggaran aturan, sehingga anak belajar menghadapi masalah tanpa takut.",
        "Lengkapi pengawasan orangtua dengan fitur keamanan yang mutakhir dan disesuaikan dengan usia anak.",
        "Pastikan ada ruang bagi anak untuk mengembangkan hobi di luar layar, seperti olahraga, seni, dan kegiatan sosial.",
        "Jangan lupa menyisihkan waktu istirahat digital untuk diri sendiri, agar Anda dapat terus hadir secara utuh bagi anak.",
        "Tetap fleksibel ketika situasi berubah, misalnya saat ada tugas sekolah online yang meningkat, namun tetap berpegang pada prinsip utama keseimbangan."
      ]
    };

    const areaTips = {
      "Waktu & durasi": [
        "Mulailah dengan membuat jadwal harian penggunaan gadget yang realistis dan disepakati bersama anak.",
        "Gunakan timer atau alarm sebagai pengingat agar waktu gadget tidak terasa 'tiba-tiba habis' bagi anak."
      ],
      "Contoh dari orangtua": [
        "Cobalah menetapkan momen tertentu di mana Anda juga meletakkan gadget, sehingga anak melihat contoh langsung.",
        "Jika terpaksa menggunakan gadget di depan anak, jelaskan apa yang sedang Anda lakukan, misalnya untuk pekerjaan."
      ],
      "Zona tanpa gadget": [
        "Pilih kamar tidur, kamar mandi, dan ruang makan/meja makan sebagai zona tanpa gadget, dan berikan tanda visual sederhana.",
        "Gunakan momen di zona tersebut sebagai waktu istirahat, makan, dan ngobrol tanpa gangguan layar."
      ],
      "Gadget sebelum tidur": [
        "Bantu anak membuat rutinitas santai sebelum tidur tanpa gadget, seperti membaca buku atau bercerita.",
        "Simpan gadget di luar kamar tidur agar tidak menggoda anak untuk kembali menggunakannya."
      ],
      "Pendampingan konten": [
        "Sediakan waktu khusus untuk duduk di samping anak ketika ia menonton atau bermain gim di gadget.",
        "Tanyakan secara berkala apa video atau gim yang sedang disukai anak dan bagaimana perasaannya saat menggunakannya."
      ],
      "Fitur keamanan": [
        "Luangkan beberapa menit untuk mempelajari fitur kontrol orangtua di perangkat yang paling sering digunakan anak.",
        "Mulailah dengan satu fitur keamanan dulu, seperti filter konten atau pembatasan unduhan aplikasi."
      ],
      "Dialog & kesepakatan": [
        "Saat membuat aturan gadget, tanyakan pada anak aturan seperti apa yang menurutnya adil dan masuk akal.",
        "Tuliskan hasil kesepakatan di kertas atau poster yang bisa dihias bersama, sehingga terasa sebagai proyek keluarga."
      ],
      "Disiplin positif & emosi": [
        "Ketika anak marah karena gadget dibatasi, akui perasaannya sebelum membahas aturan yang disepakati.",
        "Latih diri untuk tidak langsung bereaksi keras; tarik napas sejenak dan gunakan kalimat yang menenangkan."
      ],
      "Alternatif kegiatan": [
        "Susun daftar kegiatan menyenangkan tanpa gadget yang bisa dipilih anak ketika waktu gadget selesai.",
        "Libatkan diri Anda secara aktif dalam kegiatan alternatif tersebut agar anak merasa ditemani."
      ],
      "Obrolan tentang dunia digital": [
        "Jadwalkan obrolan santai mingguan tentang pengalaman anak menggunakan gadget dan internet, tanpa menginterogasi.",
        "Tanyakan apa yang paling ia sukai dan apa yang paling membuatnya tidak nyaman saat berada di internet."
      ]
    };

    let currentQuestionIndex = 0;
    let totalScore = 0;
    let weakAreas = [];
    let currentShuffledOptions = [];

    const progressTextEl = document.getElementById("progressText");
    const progressFillEl = document.getElementById("progressFill");
    const questionTextEl = document.getElementById("question-text");
    const questionIconEl = document.getElementById("question-icon");
    const optionsEl = document.getElementById("options");
    const feedbackEl = document.getElementById("feedback");
    const nextBtn = document.getElementById("nextBtn");
    const resultEl = document.getElementById("result");
    const resultVisualEl = document.getElementById("resultVisual");

    const shareContainerEl = document.getElementById("shareContainer");
    const shareTextEl = document.getElementById("shareText");
    const copyBtn = document.getElementById("copyBtn");
    const copyStatusEl = document.getElementById("copyStatus");

    const steps = [
      document.getElementById("step1"),
      document.getElementById("step2"),
      document.getElementById("step3"),
      document.getElementById("step4")
    ];

    function updateProgress() {
      const total = questions.length;
      const current = currentQuestionIndex + 1;
      progressTextEl.textContent = `Pertanyaan ${current}/${total}`;
      const percent = (currentQuestionIndex / total) * 100;
      progressFillEl.style.width = `${percent}%`;
    }

    function resetLevelMeter() {
      steps.forEach(step => step.classList.remove("active"));
    }

    function showQuestion() {
      const current = questions[currentQuestionIndex];
      questionTextEl.textContent = current.text;
      questionIconEl.textContent = current.icon || "üì±";
      feedbackEl.textContent = "";
      resultEl.textContent = "";
      resultVisualEl.innerHTML = "";
      shareContainerEl.style.display = "none";
      copyStatusEl.textContent = "";
      resetLevelMeter();

      optionsEl.innerHTML = "";
      nextBtn.disabled = true;
      nextBtn.textContent =
        currentQuestionIndex === questions.length - 1
          ? "Lihat hasil refleksi"
          : "Pertanyaan berikutnya";

      currentShuffledOptions = [...current.options];
      for (let i = currentShuffledOptions.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [currentShuffledOptions[i], currentShuffledOptions[j]] = [
          currentShuffledOptions[j],
          currentShuffledOptions[i],
        ];
      }

      currentShuffledOptions.forEach((option, index) => {
        const btn = document.createElement("button");
        btn.className = "option-btn";

        const badge = document.createElement("span");
        badge.className = "option-badge";
        badge.textContent = index === 0 ? "A" : index === 1 ? "B" : "C";

        const dot = document.createElement("span");
        dot.className = "option-icon-dot";

        const textSpan = document.createElement("span");
        textSpan.className = "option-text";
        textSpan.textContent = option.text;

        btn.appendChild(badge);
        btn.appendChild(dot);
        btn.appendChild(textSpan);

        btn.addEventListener("click", () => handleOptionClick(index));
        optionsEl.appendChild(btn);
      });

      updateProgress();
    }

    function handleOptionClick(selectedIndex) {
      const current = questions[currentQuestionIndex];
      const optionButtons = document.querySelectorAll(".option-btn");

      optionButtons.forEach((btn, index) => {
        btn.classList.add("disabled");
        if (index === selectedIndex) {
          btn.classList.add("selected");
        }
      });

      const selectedOption = currentShuffledOptions[selectedIndex];
      totalScore += selectedOption.score;

      if (selectedOption.score === 1) {
        weakAreas.push(current.area);
      }

      feedbackEl.textContent = selectedOption.feedback;
      nextBtn.disabled = false;
    }

    function showResult() {
      optionsEl.innerHTML = "";
      feedbackEl.textContent = "";
      questionTextEl.textContent = "Refleksi Penggunaan Gadget di Keluarga";
      questionIconEl.textContent = "üß©";

      const totalQuestions = questions.length;
      const minScore = totalQuestions * 1;
      const maxScore = totalQuestions * 3;
      const range = maxScore - minScore;
      const normalizedPercent = range === 0
        ? 0
        : ((totalScore - minScore) / range) * 100;

      resultEl.textContent =
        "Terima kasih sudah mengisi refleksi ini. Berdasarkan pola jawaban Anda, berikut gambaran posisi pengasuhan digital dan pengaturan screen time di keluarga saat ini.";

      let level, title, body, emoji, levelClass;

      if (normalizedPercent <= 25) {
        level = 1;
        emoji = "üö®";
        levelClass = "level-1";
        title = "Perlu Banyak Perbaikan, tetapi Anda Sudah Memulai Langkah Penting";
        body =
          "Tidak apa-apa jika hasil refleksi menunjukkan masih banyak ruang perbaikan. Justru dengan mengisi permainan ini, Anda sudah melakukan satu langkah besar: menyadari bahwa pola penggunaan gadget di rumah perlu ditata ulang. Anda layak diapresiasi karena berani melihat kondisi apa adanya dan siap belajar memperbaikinya.";
      } else if (normalizedPercent <= 50) {
        level = 2;
        emoji = "üîç";
        levelClass = "level-2";
        title = "Sedang Belajar dan Mencari Pola yang Lebih Sehat";
        body =
          "Anda sudah memiliki beberapa kebiasaan baik dalam mengatur gadget, meskipun masih naik-turun. Ini adalah posisi yang wajar bagi banyak orangtua di era digital. Yang terpenting, Anda sudah berada di jalur yang tepat dan bersedia memperkuat area yang masih lemah. Usaha dan niat baik Anda patut dihargai.";
      } else if (normalizedPercent <= 75) {
        level = 3;
        emoji = "üå±";
        levelClass = "level-3";
        title = "Sudah Cukup Bijak, Tinggal Dikuatkan dan Dirapikan";
        body =
          "Selamat, sebagian besar kebiasaan Anda sudah mendukung penggunaan gadget yang cukup seimbang bagi anak. Anda sudah melakukan banyak hal baik dan itu pantas untuk diapresiasi. Masih ada beberapa area yang bisa diperkuat, tetapi pondasi pengasuhan digital di keluarga Anda sudah cukup kokoh untuk terus dikembangkan.";
      } else {
        level = 4;
        emoji = "üåü";
        levelClass = "level-4";
        title = "Oke Banget! Anda Menjadi Role Model Pengasuhan Digital";
        body =
          "Luar biasa. Hasil ini menunjukkan bahwa Anda sangat reflektif dan cukup konsisten dalam mengatur gadget di rumah. Anda layak disebut sebagai teladan dalam pengasuhan digital yang seimbang dan penuh kehangatan. Tetaplah rendah hati dan fleksibel, karena dunia digital akan terus berubah dan selalu ada hal baru untuk dipelajari bersama anak.";
      }

      resetLevelMeter();
      if (level >= 1 && level <= 4) {
        steps[level - 1].classList.add("active");
      }

      const card = document.createElement("div");
      card.className = `result-card ${levelClass}`;

      const emojiDiv = document.createElement("div");
      emojiDiv.className = "result-emoji";
      emojiDiv.textContent = emoji;

      const textWrap = document.createElement("div");
      const titleEl = document.createElement("div");
      titleEl.className = "result-text-title";
      titleEl.textContent = title;

      const bodyEl = document.createElement("div");
      bodyEl.className = "result-text-body";
      bodyEl.textContent = body;

      textWrap.appendChild(titleEl);
      textWrap.appendChild(bodyEl);

      card.appendChild(emojiDiv);
      card.appendChild(textWrap);

      resultVisualEl.innerHTML = "";
      resultVisualEl.appendChild(card);

      const tipsTitle = document.createElement("div");
      tipsTitle.className = "tips-section-title";
      tipsTitle.textContent = "Langkah kecil yang bisa Anda coba berdasarkan hasil refleksi ini:";

      const tipsUl = document.createElement("ul");
      tipsUl.className = "tips-list";

      const levelTipsList = levelTips[level] || [];
      levelTipsList.forEach(tip => {
        const li = document.createElement("li");
        li.textContent = tip;
        tipsUl.appendChild(li);
      });

      resultVisualEl.appendChild(tipsTitle);
      resultVisualEl.appendChild(tipsUl);

      const uniqueWeakAreas = Array.from(new Set(weakAreas));
      if (uniqueWeakAreas.length > 0) {
        const areaSection = document.createElement("div");
        areaSection.className = "area-section";

        const areaTitle = document.createElement("div");
        areaTitle.className = "area-section-title";
        areaTitle.textContent = "Beberapa area yang masih bisa diperkuat dari pola jawaban Anda:";

        areaSection.appendChild(areaTitle);

        const areaUl = document.createElement("ul");
        uniqueWeakAreas.forEach(areaName => {
          const tipsForArea = areaTips[areaName] || [];
          tipsForArea.forEach(tip => {
            const li = document.createElement("li");
            li.textContent = `${areaName}: ${tip}`;
            areaUl.appendChild(li);
          });
        });

        areaSection.appendChild(areaUl);
        resultVisualEl.appendChild(areaSection);
      }

      const levelTipsText = levelTipsList.map(t => `- ${t}`).join("\n");
      let areaText = "";
      if (uniqueWeakAreas.length > 0) {
        areaText = "\nArea yang perlu saya perkuat:\n";
        uniqueWeakAreas.forEach(areaName => {
          const tipsForArea = areaTips[areaName] || [];
          tipsForArea.forEach(tip => {
            areaText += `- (${areaName}) ${tip}\n`;
          });
        });
      }

      const shareText =
        `Refleksi penggunaan gadget di keluarga\n` +
        `---------------------------------------\n` +
        `Kategori pengasuhan digital saya saat ini: ${title}\n\n` +
        `Gambaran singkat:\n${body}\n\n` +
        `Langkah kecil yang ingin saya coba (berdasarkan hasil refleksi):\n${levelTipsText}\n` +
        `${areaText}\n` +
        `Saya ingin memilih 1‚Äì2 langkah di atas untuk mulai diterapkan minggu ini bersama keluarga.`;

      shareTextEl.value = shareText;
      shareContainerEl.style.display = "block";

      nextBtn.disabled = true;
      progressFillEl.style.width = "100%";
    }

    nextBtn.addEventListener("click", () => {
      if (currentQuestionIndex < questions.length - 1) {
        currentQuestionIndex++;
        showQuestion();
      } else {
        showResult();
      }
    });

    copyBtn.addEventListener("click", () => {
      const textToCopy = shareTextEl.value;
      if (!textToCopy) return;

      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard
          .writeText(textToCopy)
          .then(() => {
            copyStatusEl.textContent = "Teks refleksi berhasil disalin ‚úÖ";
          })
          .catch(() => {
            copyStatusEl.textContent = "Gagal menyalin. Silakan blok teks dan salin secara manual.";
          });
      } else {
        shareTextEl.select();
        document.execCommand("copy");
        copyStatusEl.textContent = "Teks refleksi berhasil disalin ‚úÖ";
      }
    });

    showQuestion();
  </script>
</body>
</html>
